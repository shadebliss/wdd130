try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="431b0f23-b9ef-4133-b4c0-c771ab8127be",e._sentryDebugIdIdentifier="sentry-dbid-431b0f23-b9ef-4133-b4c0-c771ab8127be")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"b44d885"};"use strict";(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([["7132"],{98449:function(e,t,r){r.d(t,{N:()=>i});var n=r(96049),a=class{constructor(e){this._ati=n.x.create({platformQualifier:e.platformQualifier||"cloud",resourceOwner:e.resourceOwner,resourceType:e.resourceType}),this._cloudId=""!==e.cloudId?e.cloudId:void 0,this._resourceId=e.resourceId}get platformQualifier(){return this._ati.platformQualifier}get cloudId(){return this._cloudId}get resourceOwner(){return this._ati.resourceOwner}get resourceType(){return this._ati.resourceType}get resourceId(){return this._resourceId}get ati(){return this._ati}equals(e){return this.toString()===e.toString()}toString(){return`ari:${this.platformQualifier}:${this.resourceOwner}:${this.cloudId||""}:${this.resourceType}/${this.resourceId}`}toJSON(){return this.toString()}toOpts(){return{platformQualifier:this.platformQualifier,resourceOwner:this.resourceOwner,cloudId:this.cloudId,resourceType:this.resourceType,resourceId:this.resourceId}}},o=class e extends a{constructor(e){super(e)}static create(t,r){let a={...t,resourceIdSegmentValues:{}},o=n.q.fromOpts(a,r);return new e(o)}static parse(t,r){let a=n.q.fromString(t,r);return new e(a)}static check(t){try{return e.parse(t.toString()),!0}catch(e){return!1}}asAnyAri(){return this}},i=class extends a{static check(e){try{return this.parse(e.toString()),!0}catch(e){return!1}}asAnyAri(){return o.parse(this.toString())}}},75201:function(e,t,r){r.d(t,{s:()=>i});var n=r(98449),a=r(96049),o={qualifier:"ari",platformQualifier:"cloud",cloudId:RegExp("^[a-zA-Z0-9_\\-.]{1,255}$"),resourceOwner:"confluence",resourceType:"page",resourceIdSlug:"{pageId}",resourceIdSegmentFormats:{pageId:/[0-9]+/}},i=class e extends n.N{constructor(e){super(e),this._siteId=e.cloudId||"",this._pageId=e.resourceIdSegmentValues.pageId}get siteId(){return this._siteId}get pageId(){return this._pageId}static create(t){let r={qualifier:o.qualifier,platformQualifier:o.platformQualifier,cloudId:t.siteId,resourceOwner:o.resourceOwner,resourceType:o.resourceType,resourceId:`${t.pageId}`,resourceIdSegmentValues:{pageId:t.pageId}},n=a.q.fromOpts(r,o);return new e(n)}static parse(t){let r=a.q.fromString(t,o);return new e(r)}getVariables(){return{siteId:this.siteId,pageId:this.pageId}}}},70562:function(e,t,r){r.d(t,{P:()=>i});var n=r(98449),a=r(96049),o={qualifier:"ari",platformQualifier:"cloud",cloudId:RegExp("^[a-zA-Z0-9_\\-.]{1,255}$"),resourceOwner:"loom",resourceType:"workspace",resourceIdSlug:"{activationId}",resourceIdSegmentFormats:{activationId:/[a-zA-Z0-9\-]+/}},i=class e extends n.N{constructor(e){super(e),this._siteId=e.cloudId||"",this._activationId=e.resourceIdSegmentValues.activationId}get siteId(){return this._siteId}get activationId(){return this._activationId}static create(t){let r={qualifier:o.qualifier,platformQualifier:o.platformQualifier,cloudId:t.siteId,resourceOwner:o.resourceOwner,resourceType:o.resourceType,resourceId:`${t.activationId}`,resourceIdSegmentValues:{activationId:t.activationId}},n=a.q.fromOpts(r,o);return new e(n)}static parse(t){let r=a.q.fromString(t,o);return new e(r)}getVariables(){return{siteId:this.siteId,activationId:this.activationId}}}},96049:function(e,t,r){r.d(t,{q:()=>u,x:()=>d});var n=class extends Error{};function a(e){if("cloud"!==e&&"third-party"!==e)throw new n(`Identifier must have a qualifier of 'cloud' or 'third-party'. Received: ${e}`)}function o(e){if("ati"!==e)throw new n(`ATI must have a qualifier of 'ati'. Received: ${e}`)}var i=class{static getIdentifierSegments(e,t){let r=e.split(":");if(r.length<t)throw new n(`Input string must have ${t} segments.`);return r.length>t?[...r.slice(0,4),r.slice(4,r.length).join(":")]:r}};function s(e,t){if(t&&e!==t)throw new n(`Invalid resource owner - ${e}, expected ${t}.`)}function c(e,t){if(t&&e!==t)throw new n(`Invalid resource type - ${e}, expected ${t}.`)}var u=class extends i{static fromString(e,t){let[r,n,a,o,i]=this.getIdentifierSegments(e,5),[s,...c]=i.split("/"),u={qualifier:r,platformQualifier:n,cloudId:o,resourceOwner:a,resourceType:s,resourceId:c.join("/"),resourceIdSegmentValues:null!=t&&t.resourceIdSlug?this.ariSegmentValuesFromSlug(t.resourceIdSlug,c.join("/"),Object.keys(t.resourceIdSegmentFormats)):{}};return this.fromOpts(u,t)}static fromOpts(e,t){let{qualifier:r="ari",platformQualifier:o="cloud",resourceOwner:i,cloudId:u,resourceId:l,resourceIdSegmentValues:d,resourceType:p}=e;return function(e){if("ari"!==e)throw new n(`ARI must have a qualifier of 'ari'. Received: ${e}`)}(r),a(o),function(e,t=RegExp("^[a-zA-Z0-9_\\-.]{0,255}$")){if(!e.match(t))throw new n(`Invalid cloud ID, expected ID of format ${t}.`)}(e.cloudId||"",null==t?void 0:t.cloudId),s(i,null==t?void 0:t.resourceOwner),c(p,null==t?void 0:t.resourceType),function(e,t){Object.entries(e).forEach(([e,r])=>{!function(e,t=RegExp("[!a-zA-Z0-9\\-_.~@:;{}=]+(/[!a-zA-Z0-9\\-_.~@:;{}=]+)*"),r="resourceId"){let a=RegExp(`^${t.source}$`);if(!e.match(a))throw new n(`Invalid ${r} - ${e}, expected ID of format ${a}.`)}(r,null==t?void 0:t[e],e)})}(d,null==t?void 0:t.resourceIdSegmentFormats),{qualifier:r,resourceOwner:i,resourceType:p,platformQualifier:o,cloudId:u,resourceId:l,resourceIdSegmentValues:d}}static ariSegmentValuesFromSlug(e,t,r){let a=RegExp("^"+e.replace(/\{(.*?)\}/g,"(?<$1>.*?)")+"$").exec(t);if(!a)throw new n(`Segment '${t}' don't match expected slug: ${e}`);return r.forEach(t=>{var r;if(!(null!=(r=a.groups)&&r[t]))throw new n(`No value supplied for '${t}' based on slug ${e}`)}),a.groups||{}}},l=class extends i{static fromString(e,t){let[r="ati",n="cloud",i,u]=this.getIdentifierSegments(e,4);return o(r),a(n),s(i,null==t?void 0:t.resourceOwner),c(u,null==t?void 0:t.resourceType),{platformQualifier:n,resourceOwner:i,resourceType:u}}static fromOpts(e,t){let{qualifier:r,platformQualifier:n,resourceOwner:i,resourceType:u}=e;return o(r),a(n),s(i,null==t?void 0:t.resourceOwner),c(u,null==t?void 0:t.resourceType),{platformQualifier:n,resourceOwner:i,resourceType:u}}},d=class e{constructor(e,t,r){this._platformQualifier=e,this._resourceOwner=t,this._resourceType=r}get platformQualifier(){return this._platformQualifier}get resourceOwner(){return this._resourceOwner}get resourceType(){return this._resourceType}static create(t){return new e(t.platformQualifier||"cloud",t.resourceOwner,t.resourceType)}static parse(t,r){let n=l.fromString(t,r);return new e(n.platformQualifier,n.resourceOwner,n.resourceType)}toString(){return`ati:${this.platformQualifier}:${this.resourceOwner}:${this.resourceType}`}toJSON(){return this.toString()}toOpts(){return{platformQualifier:this._platformQualifier,resourceOwner:this._resourceOwner,resourceType:this._resourceType}}}},12804:function(e,t,r){r.d(t,{CK:()=>c,bT:()=>s,dx:()=>u,sD:()=>l});var n=r(51034),a=r(39060);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s="atl-bsc-consent-token",c="atl-bsc-consent-token-fallback",u=i(i({},((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},a.A7.StrictlyNecessary,!0),a.A7.Functional,!0),a.A7.Marketing,!0),a.A7.Analytics,!0),a.A7.Unknown,!0),(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},a.A7.StrictlyNecessary,!0),a.A7.Functional,!1),a.A7.Marketing,!1),a.A7.Analytics,!1),a.A7.Unknown,!1))),{},(0,n.A)((0,n.A)((0,n.A)({},a.RK.ConsentsAreDefault,!0),a.RK.UserIsAuthenticated,!1),a.RK.ConsentDataUnavailable,!0)),l="003"},83869:function(e,t,r){r.d(t,{Ol:()=>eo});var n,a,o,i,s,c,u,l,d,p,f,h,g,m=r(12958),v=r(77408),y=r(4449),b=r(31259),E=r(45440),O=r(71839),A=r(95228),S=function(e){return Number(e).toString()},w=r(12804),I=r(43363),k=r.n(I),C=r(15200),D=r(51034),M=r(84802),P=r(50744),T=r(20298),R=r(88215),j=r.n(R),_=r(39060),x=(o=(0,T.A)(j().mark(function e(t){var r,n,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===_.kU.Cookies?3:e.t0===_.kU.LocalStorage?6:e.t0===_.kU.SessionStorage?9:12;break;case 3:return e.next=5,null===(r=f)||void 0===r?void 0:r.loadStorageControlsData();case 5:case 8:case 11:return e.abrupt("return",e.sent);case 6:return e.next=8,null===(n=h)||void 0===n?void 0:n.loadStorageControlsData();case 9:return e.next=11,null===(a=g)||void 0===a?void 0:a.loadStorageControlsData();case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),N=function(){return{analyticsEnabled:i??!0,product:s,perimeter:c,webStorageEnabled:u??!1,localConsentMode:l??!1,packageDebugMode:d,allowUncategorizedCookiesInOverrides:p??!1,cookiesCacheLoader:f,localStorageCacheLoader:h,sessionStorageCacheLoader:g,loadCache:x,hasInitialized:!1}},L=r(68731);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var F="[browser-storage-controls]",B=(0,m.A)(function e(){(0,v.A)(this,e)},null,[{key:"info",value:function(e,t){L.log("".concat(F,": ").concat(e),t?JSON.stringify(t):"")}},{key:"error",value:function(e,t){L.error("".concat(F,": ").concat(e),t?JSON.stringify(t):"")}},{key:"errorWithOperationalEvent",value:function(e){var t=e.action,r=e.attributes,n=e.message,a=e.metadata;try{ee({action:t,attributes:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){(0,D.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({error:n},void 0===r?{}:r)})}catch(e){this.error("Failed to send operational event on error: ".concat(t,". ").concat(e.message||""))}this.error(n,a?JSON.stringify(a):"")}},{key:"warn",value:function(e,t){L.warn("".concat(F,": ").concat(e),t?JSON.stringify(t):"")}},{key:"debug",value:function(e,t){N().packageDebugMode&&(0,C.fg)("platform_moonjelly_bsc_debug_mode")&&L.debug("".concat(F,": DEBUG ").concat(e),t?JSON.stringify(t):"")}}]),K=new((0,m.A)(function e(){(0,v.A)(this,e)},[{key:"cachedSamplingConfig",get:function(){return this.cache},set:function(e){this.cache=e}}])),G=function(){var e=typeof document>"u"||typeof window>"u"||!Document||!Document.prototype||!Object||!Object.defineProperty,t=!C.fg,r=!P.Ay;return!!(e||t||r)},q={usedGetCookie:1e5,usedGetCookieError:1,usedSetCookie:1e3,usedSetCookieError:1,usedSetStrictlyNecessaryCookie:1e4,usedSetStrictlyNecessaryCookieError:1,usedDeleteCookie:10,usedDeleteCookieError:1,usedCheckThirdParty:1e5,checkThirdPartyError:1,usedDocumentCookie:100,usedDocumentCookieError:1,initializeControlsError:1,loadStorageControlsError:1,updatePreferencesError:1,fetchConsentPreferencesError:1,saveConsentPreferencesError:1,usedAtlBrowserStorageGetItem:100,usedAtlBrowserStorageGetItemError:1,usedAtlBrowserStorageSetItem:100,usedAtlBrowserStorageSetItemError:1,usedAtlBrowserStorageSetStrictlyNecessaryItem:100,usedAtlBrowserStorageSetStrictlyNecessaryItemError:1,usedCheckIfSetByPackageError:1,renderConsentBannerError:1,bannerAppearanceAfterDismissal:1},V=["loadStorageControlsError"];function Q(){return(Q=(0,T.A)(j().mark(function e(){var t,r,n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!K.cachedSamplingConfig){e.next=2;break}return e.abrupt("return",K.cachedSamplingConfig);case 2:if(!G()){e.next=4;break}return e.abrupt("return",void 0);case 4:return t=N().loadCache,e.next=7,t(_.kU.Cookies);case 7:return r=e.sent,n=r?.analyticsSamplingRatio,K.cachedSamplingConfig=n,e.abrupt("return",n);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $(){return($=(0,T.A)(j().mark(function e(t){var r,n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!V.includes(t)){e.next=2;break}return e.abrupt("return",q[t]);case 2:return e.next=4,function(){return Q.apply(this,arguments)}();case 4:return r=e.sent??q,n=r?.[t]!==void 0?r[t]:q[t],e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function W(){return(W=(0,T.A)(j().mark(function e(t,r){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e){return $.apply(this,arguments)}(t);case 2:Math.floor(Math.random()*e.sent)||r();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var z=function(){var e=window.location.hostname;return e.includes(".dev.")||e.includes(".stg.")||e.includes(".jira-dev.")||e.includes(".jira-stg.")?M.sR.STAGING:e.includes("localhost")||e.includes("ngrok")||e.includes("atlastunnel")?M.sR.DEV:M.sR.PROD},J=function(e){var t="";if(!e)return t;var r=function(t){return new RegExp("^".concat(t,"(/|$)")).test(String(e))};return r("/wiki")&&(t="/wiki"),r("/jira")&&(t="/jira"),r("/compass")&&(t="/compass"),r("/canvas")&&(t="/canvas"),(r("/servicedesk")||r("/jira/servicedesk"))&&(t="/servicedesk"),t},Y=function(){var e=window.location,t=e.origin,r=J(e.pathname),n="".concat(t).concat(r),a=("https://trello.com"===n?"trello":null)||r.slice(1);return{domain:n,product:a}},X=function(e){var t,r,n=Y(),a=n.domain,o=n.product;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){(0,D.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({packageName:"@atlassian/browser-storage-controls",packageVersion:"0.0.0-development",domain:a,product:null!==(t=null===(r=N().product)||void 0===r?void 0:r.toLowerCase())&&void 0!==t?t:o},e&&e)},Z=function(){try{!n&&N().analyticsEnabled&&(n=new P.Ay({env:z(),product:"atlassianCookies"},{useLegacyUrl:!1,disableCookiePersistence:!0}))}catch(e){B.error("Failed to initialize AnalyticsWebClient. ".concat(e))}if(N().analyticsEnabled)return n};function ee(e){!function(e,t){W.apply(this,arguments)}(e.action,function(){var t;return null===(t=Z())||void 0===t?void 0:t.sendOperationalEvent({source:"package",actionSubject:"package",action:e.action,attributes:X(e.attributes)})})}var et=((a={}).StrictlyNecessary="strictlyNecessaryCookies",a.Functional="functionalCookies",a.Analytics="performanceCookies",a.Marketing="targetingCookies",a.Unknown="unknownCookies",a);function er(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(er=function(){return!!e})()}var en=function(e){var t=w.sD,r=Object.entries(w.dx).reduce(function(t,r){var n=(0,A.A)(r,2),a=n[0],o=n[1];return a===_.A7.StrictlyNecessary?t:a===_.RK.UserIsAuthenticated?t+S(!e):a===_.RK.ConsentDataUnavailable?t+S(!!e):t+S(o)},"");return"".concat(t).concat(r)},ea=function(e){var t,r,n,a;return[w.sD,S(!!(null!==(t=e.find(function(e){return e.key===et.Functional}))&&void 0!==t&&t.granted)),S(!!(null!==(r=e.find(function(e){return e.key===et.Analytics}))&&void 0!==r&&r.granted)),S(!!(null!==(n=e.find(function(e){return e.key===et.Marketing}))&&void 0!==n&&n.granted)),S(!!(null!==(a=e.find(function(e){return e.key===et.Unknown}))&&void 0!==a&&a.granted)),0,1,0].join("")},eo=function(e){var t=e.consents;return t?0===t.length?en():ea(t):function(e){if((0,C.fg)("platform_moonjelly_bsc_master_killswitch"))return e?k().get(e):k().get();try{return ee({action:"usedGetCookie",attributes:{cookieKey:e}}),e?k().get(e):k().get()}catch(t){B.errorWithOperationalEvent({action:"usedGetCookieError",attributes:{cookieKey:e},message:"Failed to use get cookie. ".concat(t.message||"")})}}(w.CK)||en(!0)};!function(e){function t(e,r){var n,a,o;return(0,v.A)(this,t),a=t,o=[e],a=(0,b.A)(a),(n=(0,y.A)(this,er()?Reflect.construct(a,o||[],(0,b.A)(this).constructor):a.apply(this,o))).status=r,Object.setPrototypeOf(n,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,t),n.name="StatusCodeError",n}(0,E.A)(t,e),(0,m.A)(t)}((0,O.A)(Error))},39060:function(e,t,r){r.d(t,{A7:()=>d,RK:()=>p,kU:()=>f});var n,a,o,i,s,c,u,l,d=((n={}).StrictlyNecessary="STRICTLY_NECESSARY",n.Functional="FUNCTIONAL",n.Marketing="MARKETING",n.Analytics="ANALYTICS",n.Unknown="UNKNOWN",n),p=((a={}).ConsentDataUnavailable="CONSENT_DATA_UNAVAILABLE",a.ConsentedUnderGDPR="CONSENTS_SAVED_IN_GDPR_LOCALE",a.ConsentedUnderCPRA="CONSENTS_SAVED_IN_CPRA_LOCALE",a.ConsentedUnderLGPD="CONSENTS_SAVED_IN_LGPD_LOCALE",a.ConsentedUnderFADP="CONSENTS_SAVED_IN_FADP_LOCALE",(o={}).ConsentsAreDefault="DEFAULT_CONSENTS",o.UserIsAuthenticated="USER_AUTHENTICATED",o.ConsentDataUnavailable="CONSENT_DATA_UNAVAILABLE",o),f=((i={}).LocalStorage="localStorageKeys",i.SessionStorage="sessionStorageKeys",i.Cookies="keys",i.ThirdParty="thirdPartyKeys",(s={})[s.INTERNAL=0]="INTERNAL",(c={}).Cookies="Cookies",c.LocalStorage="LocalStorage",c.SessionStorage="SessionStorage",c);(u={}).SUCCESS="SUCCESS",u.BLOCKED="BLOCKED",u.FAILED="FAILED",(l={}).MASTER_KILLSWITCH="platform_moonjelly_bsc_master_killswitch",l.UI_KILLSWITCH="platform_moonjelly_bsc_ui_killswitch",l.SSR_KILLSWITCH="platform_moonjelly_bsc_ssr_killswitch",l.WEB_STORAGE_KILLSWITCH="platform_moonjelly_bsc_web_storage_killswitch"},70157:function(e,t,r){r.d(t,{XW:()=>h});var n=r(20298),a=r(95228),o=r(88215),i=r.n(o),s=r(89263),c=function(e){var t=e.site,r=e.siteId,n=e.cloudId,a=e.widgetId,o=new URL("/csm/widget/script.js","https://".concat(t));return r&&(o.searchParams.set("siteId",r),o.searchParams.set("site",t)),n&&(o.searchParams.set("cloudId",n),o.searchParams.set("site",t)),a&&o.searchParams.set("widgetId",a),o.toString()},u=null,l=function(){},d=function(e){var t=e.site,r=e.siteId,n=e.cloudId,a=e.widgetId,o=e.debug,i=void 0===o?l:o;return u||(u=new Promise(function(e,o){typeof window>"u"&&(i({message:"[SDKLoader]: window is undefined"}),o(Error("Failed to load CSM SDK: window is undefined"))),!window.CSM||"__q__"in window.CSM||(i({message:"[SDKLoader]: window.CSM already exists"}),e(window.CSM));var s=document.createElement("script");s.src=c({site:t,siteId:r,cloudId:n,widgetId:a}),s.setAttribute("async",""),s.type="text/javascript",s.onerror=function(){o(Error("Failed to load CSM SDK script: onerror"))},s.onload=function(){i({message:"[SDKLoader]: script onload called"}),!window.CSM||"__q__"in window.CSM?(i({message:"[SDKLoader]: CSM SDK not found after script onload"}),o(Error("Failed to load CSM SDK: window.CSM is undefined"))):(i({message:"[SDKLoader]: CSM SDK found after script onload"}),e(window.CSM))},i({message:"[SDKLoader]: CSM SDK appended to body"}),document.body.appendChild(s);var u=document.createElement("link"),l=/jira-dev\.com/.test(t)?"https://jcs-chat-widget.stg.atlassian.com":"https://jcs-chat-widget.atlassian.com";u.rel="preconnect",u.href=l,u.crossOrigin="anonymous",document.head.appendChild(u),i({message:"[SDKLoader]: CSM SDK preconnecting to ".concat(l)})})),u};function p(e){var t=(0,s.useRef)(e);return(0,s.useLayoutEffect)(function(){t.current=e}),(0,s.useCallback)(function(){for(var e=t.current,r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return e?.apply(void 0,n)},[])}var f=function(){},h=function(e){var t,r=e.settings,o=e.sdk,c=e.onChatStatus,u=e.onChatMessage,l=e.onError,h=e.onDebug,g=(0,s.useState)(r),m=(0,a.A)(g,1)[0],v=(0,s.useRef)(null),y=(0,s.useState)(null),b=(0,a.A)(y,2),E=b[0],O=b[1],A=(t=(0,s.useRef)(u),(0,s.useLayoutEffect)(function(){t.current=u}),t),S=p(c??f),w=p(l??f),I=p(h??f);return(0,s.useEffect)(function(){return I({message:"[ReactSDK]: mounted"}),function(){I({message:"[ReactSDK]: unmounted"})}},[I]),(0,s.useEffect)(function(){var e;(e=(0,n.A)(i().mark(function e(){var t,r,n,a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I({message:"[ReactSDK]: loading CSM SDK"}),e.next=4,d({site:m.site,debug:I});case 4:if(t=e.sent,v.current){e.next=8;break}throw I({message:"[ReactSDK]: embed target container ref not found"}),Error("Container element not found");case 8:return I({message:"[ReactSDK]: creating CSM.embeddableWidget instance"}),e.next=11,t.embeddableWidget(v.current,m,{debug:function(e){I({message:e})}});case 11:if(!((r=e.sent)instanceof Error)){e.next=16;break}return I({message:"[ReactSDK]: embeddableWidget returned error - ".concat(r.message)}),w({message:r.message}),e.abrupt("return");case 16:n=["before","started","aborted","completed","failed"],a=function(e){r.on("message:".concat(e),function(){for(var t,r,n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];null===(t=A.current)||void 0===t||null===(r=t[e])||void 0===r||r.call.apply(r,[t].concat(a))})},n.forEach(function(e){a(e)}),r.on("status",function(e){I({message:"[ReactSDK]: received status message ".concat(e.status)}),S(e.status)}),r.on("error",function(e){I({message:"[ReactSDK]: received error message"}),w(e)}),O(r),I({message:"[ReactSDK]: embed setup complete"}),e.next=29;break;case 25:var o;e.prev=25,e.t0=e.catch(0),I({message:"[ReactSDK]: error caught"}),w({message:"string"==typeof(o=e.t0)?o:o instanceof Error?o.message:"Unknown error"});case 29:case"end":return e.stop()}},e,null,[[0,25]])})),function(){return e.apply(this,arguments)})()},[m,A,S,w,I]),(0,s.useImperativeHandle)(o,function(){return E},[E]),s.createElement("div",{ref:v,style:{width:"100%",height:"100%"}})},g=r(68731),m=function(e){return function(){var t;if(typeof window>"u"||!window.CSM){g.warn("CSM SDK has not been loaded!");return}for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=window).CSM.apply(t,[e].concat(n))}};m("open"),m("close"),m("hide"),m("show"),m("update"),m("createNewConversation"),m("onOpen"),m("onClose"),m("getCurrentConversation")},64868:function(e,t,r){r.d(t,{IF:()=>a,Qj:()=>c,Yq:()=>i,os:()=>o,qR:()=>u,sb:()=>s});var n,a={START:"start",STOP:"stop"},o={BLOCKED:"blocked",CANCELED:"canceled",ERROR:"error",STARTED:"started",STOPPED:"stopped",UNREGISTERED:"unregistered",REQUESTED:"requested"},i=((n={}).CONFLUENCE="confluence",n.ENGAGEKIT="Engagekit",n.INTERCOM="intercom",n.JIRA="jira",n.PENDO="pendo",n.CLOUDADMIN="cloudadmin",n.BITBUCKET="bitbucket",n.POST_OFFICE="post-office",n.LOOM="loom",n),s={ENGAGEMENT:"engagement",MARKETING:"marketing",TRANSACTIONAL:"transactional"},c=[s.ENGAGEMENT,s.MARKETING],u={START:"messageStart",STOP:"messageStop"}},19595:function(e,t,r){r.d(t,{Q:()=>eu});var n,a,o,i,s,c,u=r(53847),l=r(51034),d=r(50938),p=r(95228),f=r(31467),h=r(20298),g=r(88215),m=r.n(g),v=r(89263),y=r(15200),b=r(64868),E=r(12958),O=r(77408),A=r(4449),S=r(31259),w=r(45440),I=r(50744),k=r(84802),C=r(68731);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){(0,l.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function P(){return window.choreographerLoggingLevel}var T=(0,E.A)(function e(t,r){var n=this;(0,O.A)(this,e),(0,l.A)(this,"log",function(e){(0,f.A)(Object.keys(e)).forEach(function(t){var r,a;a=M(M({productId:n.state.productId,messageId:n.state.messageId},null!==(r=e[t])&&void 0!==r?r:{}),"verbose"===t?{timestamp:performance.now()}:{}),P()===t&&C.table(a)})}),(0,l.A)(this,"trace",function(e){(0,f.A)(Object.keys(e)).forEach(function(t){var r,a,o;r=n.state.productId,a=n.state.messageId,o="".concat(e[t]).concat("verbose"===t?" (".concat(performance.now(),")"):""),P()===t&&C.log("CHOREOGRAPHER - ".concat(r," - ").concat(a," - ").concat(o))})}),this.state={productId:t,messageId:r}});function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){(0,l.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _=(0,E.A)(function e(t,r,n,a,o){(0,O.A)(this,e),this.state={actionSubject:t,actionSubjectId:r,metricsData:n,analyticsClient:a,plugin:o}},[{key:"sendOperationalEvent",value:function(e,t){var r,n,a=this.state,o=a.analyticsClient,i=a.actionSubject,s=a.actionSubjectId,c=a.metricsData,u=a.plugin,l={source:"choreographer",action:e,actionSubject:i,actionSubjectId:s,attributes:j(j({},c??{}),t??{}),tags:["postOffice"]};(!(null!==(r=null==u||null===(n=u.shouldLogEvent)||void 0===n?void 0:n.call(u,l))&&void 0!==r)||r)&&o.sendOperationalEvent(l)}},{key:"blocked",value:function(e){this.sendOperationalEvent(b.os.BLOCKED,e)}},{key:"error",value:function(e){this.sendOperationalEvent(b.os.ERROR,e)}},{key:"unregistered",value:function(e){this.sendOperationalEvent(b.os.UNREGISTERED,e)}},{key:"started",value:function(e){this.sendOperationalEvent(b.os.STARTED,e)}},{key:"stopped",value:function(e){this.sendOperationalEvent(b.os.STOPPED,e)}},{key:"requested",value:function(e){this.sendOperationalEvent(b.os.REQUESTED,e)}}]),x=["shouldBeChoreographed","withChoreographedRender"],N=["messageType"],L=["messageType","messageId","onMessageDisposition"],U=["shouldBeChoreographed","withChoreographedToggle"],F=["messageType"],B=["messageType","messageId","onMessageDisposition"],K=function(e,t){return!!t?.enableChoreographer&&e?.messageType!==void 0&&b.Qj.includes(e.messageType)},G=function(e){var t;function r(t){var r=t.shouldBeChoreographed,n=t.withChoreographedRender,a=(0,d.A)(t,x),o=(0,v.useMemo)(function(){return n(e)},[n]);if(r(a)){a.messageType;var i=(0,d.A)(a,N);return v.createElement(o,i)}a.messageType,a.messageId,a.onMessageDisposition;var s=(0,d.A)(a,L);return v.createElement(e,s)}return r.displayName="ChoreographerWrapped".concat((null!==(t=e.displayName)&&void 0!==t?t:e.name)||"Component"),r},q=function(e,t){var r;function n(r){var n=r.shouldBeChoreographed,a=r.withChoreographedToggle,o=(0,d.A)(r,U),i=(0,v.useMemo)(function(){return a(e,t)},[a]);if(n(o,t)){o.messageType;var s=(0,d.A)(o,F);return v.createElement(i,s)}o.messageType,o.messageId,o.onMessageDisposition;var c=(0,d.A)(o,B);return v.createElement(e,c)}return n.displayName="ChoreographerWrapped".concat((null!==(r=e.displayName)&&void 0!==r?r:e.name)||"Component"),n};function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach(function(t){(0,l.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var $=(0,E.A)(function e(){var t=this;(0,O.A)(this,e),(0,l.A)(this,"shouldBeChoreographed",function(e,r){var n,a,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=s?.messageType===b.sb.TRANSACTIONAL,d=(0,y.fg)("post-office_choreographer_log_transactional_msg"),p=s?.messageId&&(null===(o=t.state.seenTransactionalMessages.get(e))||void 0===o?void 0:o.has(s.messageId)),f=!u||u&&s?.[u];return l&&null!=s&&s.messageId&&d&&f&&!p&&(t.state.seenTransactionalMessages.has(e)||t.state.seenTransactionalMessages.set(e,new Set),null===(n=t.state.seenTransactionalMessages.get(e))||void 0===n||n.add(s.messageId),new _("messageStart",s.messageId,Q(Q({},i),{},{messageId:s.messageId,currentMessageId:null===(a=t.getCurrentMessage())||void 0===a?void 0:a.messageId,messageType:s.messageType}),r).requested()),K(s,c)}),this.state={currentMessage:null,isDisabled:!1,messages:new Map,messageQueue:[],messageTtl:null,plugins:new Map,queueingBehindMessage:null,shouldQueueMessages:!1,seenTransactionalMessages:new Map}},[{key:"stopCurrentMessage",value:function(){var e=this;this.state.currentMessage&&this.stopMessageInternal(this.state.currentMessage.productId,this.state.currentMessage.messageId,this.state.currentMessage.analyticsClient,this.state.currentMessage.metricsData,this.state.currentMessage.plugin,!0).then(function(){e.clearMessageTtl(),e.enablePlugins()})}},{key:"queueMessages",value:function(e,t){this.state.shouldQueueMessages=!0,this.state.queueingBehindMessage={productId:e,messageId:t,timestamp:Date.now()}}},{key:"queueMessage",value:function(e,t,r,n,a){var o=this;return new Promise(function(i){o.state.messageQueue.push({productId:e,messageId:t,analyticsClient:r,metricsData:n,plugin:a,resolve:i})})}},{key:"processQueuedMessage",value:function(){var e=this.state.messageQueue.shift();this.state.shouldQueueMessages=!1,this.state.queueingBehindMessage=null,e&&e.resolve(this.startMessage(e.productId,e.messageId,e.analyticsClient,e.metricsData,e.plugin))}},{key:"destroyMessageQueue",value:function(e){for(this.state.shouldQueueMessages=!1,this.state.queueingBehindMessage=null;this.state.messageQueue.length>0;){var t,r,n,a,o=this.state.messageQueue.shift(),i=o.analyticsClient,s=o.messageId,c=o.metricsData,u=o.productId,l=o.resolve,d=Q(Q({},c),{},{productId:u,messageId:s}),p=b.qR.START,f=new _(p,s,d,i,e),h=new T(u,s);f.blocked({blockedByProductId:null===(t=this.state.currentMessage)||void 0===t?void 0:t.productId,blockedByMessageId:null===(r=this.state.currentMessage)||void 0===r?void 0:r.messageId}),h.log({verbose:{phase:p,disposition:b.os.BLOCKED,blockedByProductId:null===(n=this.state.currentMessage)||void 0===n?void 0:n.productId,blockedByMessageId:null===(a=this.state.currentMessage)||void 0===a?void 0:a.messageId}}),l(b.os.BLOCKED)}}},{key:"setMessageTtl",value:function(e,t,r,n,a,o){var i=this;if(this.state.currentMessage={productId:e,messageId:t,analyticsClient:r,metricsData:n,plugin:a,timestamp:Date.now()},!(0,y.fg)("post-office_choreographer_custom_message_ttl")){this.state.messageTtl=setTimeout(function(){i.isCurrentMessage(e,t)&&i.stopCurrentMessage()},3e5);return}0!==o&&(this.state.messageTtl=setTimeout(function(){i.isCurrentMessage(e,t)&&i.stopCurrentMessage()},o??3e5))}},{key:"isCurrentMessage",value:function(e,t){return!!(this.state.currentMessage&&this.state.currentMessage.productId===e&&this.state.currentMessage.messageId===t)}},{key:"getCurrentMessage",value:function(){return this.state.currentMessage}},{key:"getCurrentPendingMessage",value:function(){return this.state.queueingBehindMessage}},{key:"clearMessageTtl",value:function(){this.state.currentMessage=null,this.state.messageTtl&&clearTimeout(this.state.messageTtl)}},{key:"disableChoreographerForIframe",value:function(){var e=this;if(window.self!==window.top)return this.disablePlugins(),function(){return e.enablePlugins()}}},{key:"disablePlugins",value:function(e){this.state.isDisabled=!0,(0,f.A)(this.state.plugins.values()).forEach(function(t){t!==e&&t.disable()})}},{key:"enablePlugins",value:function(){(0,f.A)(this.state.plugins.values()).forEach(function(e){return e.enable()}),this.state.isDisabled=!1}},{key:"unregisterPlugin",value:function(e){var t;(null===(t=this.state.currentMessage)||void 0===t?void 0:t.productId)===e&&this.stopCurrentMessage(),this.state.messages.delete(e),this.state.plugins.delete(e),this.state.seenTransactionalMessages.delete(e)}},{key:"isDisplayingMessage",value:function(){return!!(this.state.currentMessage||(0,f.A)(this.state.plugins.values()).reduce(function(e,t){return e||t.isDisplayingMessage()},!1))}},{key:"getMessages",value:function(e){var t;return null!==(t=this.state.messages.get(e))&&void 0!==t?t:new Map}},{key:"startMessage",value:(a=(0,h.A)(m().mark(function e(t,r,n){var a,o,i,s,c,u,l,d,p,f,h,g,v,y,E,O,A,S,w,I=arguments;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=I.length>3&&void 0!==I[3]?I[3]:{},o=I.length>4?I[4]:void 0,i=I.length>5?I[5]:void 0,s=new T(t,r),c=b.qR.START,u=performance.now(),s.log({info:{phase:c,timestamp:u},verbose:{phase:c,timestamp:u}}),l=Q(Q({},a),{},{productId:t,messageId:r}),d=new _(c,r,l,n,o),e.prev=9,this.hasMessageRecord(t,r)){e.next=14;break}return d.unregistered(),s.log({verbose:{phase:c,disposition:b.os.UNREGISTERED}}),e.abrupt("return",b.os.UNREGISTERED);case 14:if(!this.state.shouldQueueMessages){e.next=17;break}return s.log({verbose:{phase:c,disposition:"queued behind ".concat(null===(h=this.state.queueingBehindMessage)||void 0===h?void 0:h.productId," ").concat(null===(g=this.state.queueingBehindMessage)||void 0===g?void 0:g.messageId)}}),e.abrupt("return",this.queueMessage(t,r,n,a,o));case 17:if(!(this.state.isDisabled||this.isDisplayingMessage())){e.next=21;break}return d.blocked({blockedByProductId:null===(v=this.state.currentMessage)||void 0===v?void 0:v.productId,blockedByMessageId:null===(y=this.state.currentMessage)||void 0===y?void 0:y.messageId}),s.log({verbose:{phase:c,disposition:b.os.BLOCKED,blockedByProductId:null===(E=this.state.currentMessage)||void 0===E?void 0:E.productId,blockedByMessageId:null===(O=this.state.currentMessage)||void 0===O?void 0:O.messageId}}),e.abrupt("return",b.os.BLOCKED);case 21:return A=this.ensureMessageRecord(t,r),this.queueMessages(t,r),e.next=25,null===(f=A.start)||void 0===f?void 0:f.call(A);case 25:if(e.t1=p=e.sent,e.t0=null!==e.t1,!e.t0){e.next=29;break}e.t0=void 0!==p;case 29:if(!e.t0){e.next=33;break}e.t2=p,e.next=34;break;case 33:e.t2=!0;case 34:if(!e.t2){e.next=43;break}return null===(S=A.onStart)||void 0===S||S.call(A),d.started(),this.disablePlugins(o),this.setMessageTtl(t,r,n,a,o,i),this.destroyMessageQueue(o),s.log({verbose:{phase:c,disposition:b.os.STARTED}}),e.abrupt("return",b.os.STARTED);case 43:return this.processQueuedMessage(),s.log({verbose:{phase:c,disposition:b.os.CANCELED}}),e.abrupt("return",b.os.CANCELED);case 48:return e.prev=48,e.t3=e.catch(9),w=e.t3,d.error({reason:w.message}),s.log({verbose:{phase:c,disposition:b.os.ERROR}}),e.abrupt("return",b.os.ERROR);case 54:case"end":return e.stop()}},e,this,[[9,48]])})),function(e,t,r){return a.apply(this,arguments)})},{key:"stopMessageInternal",value:(o=(0,h.A)(m().mark(function e(t,r,n){var a,o,i,s,c,u,l,d,p,f,h,g,v,y,E=arguments;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E.length>3&&void 0!==E[3]?E[3]:{},o=E.length>4?E[4]:void 0,i=E.length>5&&void 0!==E[5]&&E[5],s=new T(t,r),c=b.qR.STOP,u=performance.now(),s.log({info:{phase:c,timestamp:u},verbose:{phase:c,timestamp:u}}),l=Q(Q({},a),{},{productId:t,messageId:r}),d=new _(c,r,l,n,o),e.prev=9,this.hasMessageRecord(t,r)){e.next=14;break}return d.unregistered(),s.log({verbose:{phase:c,disposition:b.os.UNREGISTERED}}),e.abrupt("return",b.os.UNREGISTERED);case 14:return h=this.ensureMessageRecord(t,r),this.isCurrentMessage(t,r)&&this.queueMessages(t,r),e.next=18,null===(f=h.stop)||void 0===f?void 0:f.call(h);case 18:if(e.t1=p=e.sent,e.t0=null!==e.t1,!e.t0){e.next=22;break}e.t0=void 0!==p;case 22:if(!e.t0){e.next=26;break}e.t2=p,e.next=27;break;case 26:e.t2=!0;case 27:if(!((g=e.t2)||i)){e.next=33;break}return this.isCurrentMessage(t,r)&&(null===(v=h.onStop)||void 0===v||v.call(h),d.stopped(i?{forceStop:i,didStop:g}:void 0),this.clearMessageTtl(),this.enablePlugins()),this.processQueuedMessage(),s.log({verbose:{phase:c,disposition:b.os.STOPPED}}),e.abrupt("return",b.os.STOPPED);case 33:return this.destroyMessageQueue(o),s.log({verbose:{phase:c,disposition:b.os.CANCELED}}),e.abrupt("return",b.os.CANCELED);case 38:return e.prev=38,e.t3=e.catch(9),y=e.t3,d.error({reason:y.message}),s.log({verbose:{phase:c,disposition:b.os.ERROR}}),e.abrupt("return",b.os.ERROR);case 44:case"end":return e.stop()}},e,this,[[9,38]])})),function(e,t,r){return o.apply(this,arguments)})},{key:"stopMessage",value:(i=(0,h.A)(m().mark(function e(t,r,n){var a,o,i=arguments;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:{},o=i.length>4?i[4]:void 0,e.abrupt("return",this.stopMessageInternal(t,r,n,a,o));case 3:case"end":return e.stop()}},e,this)})),function(e,t,r){return i.apply(this,arguments)})},{key:"registerPlugin",value:function(e,t){var r=this;if(this.state.plugins.has(e))throw Error("Choreographer plugin already registered for ".concat(e,"!"));return this.state.plugins=this.state.plugins.set(e,t),this.state.seenTransactionalMessages.set(e,new Set),this.state.isDisabled&&t.disable(),function(){r.unregisterPlugin(e)}}},{key:"ensureMessageRecord",value:function(e,t){var r=this.state.messages.get(e);r||(r=new Map,this.state.messages.set(e,r));var n=r.get(t);return n||(n={},r.set(t,n)),n}},{key:"hasMessageRecord",value:function(e,t){var r,n;return!!(!(null===(r=this.state.messages.get(e))||void 0===r||null===(n=r.has)||void 0===n)&&n.call(r,t))}},{key:"on",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=Q(Q(Q({},this.ensureMessageRecord(e,t)),r),n);this.state.messages.get(e).set(t,a)}},{key:"onStart",value:function(e,t,r,n){this.on(e,t,{start:r},n)}},{key:"onStop",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.on(e,t,{stop:r},n)}},{key:"off",value:function(e,t){var r,n;null===(r=this.state.messages.get(e))||void 0===r||null===(n=r.delete)||void 0===n||n.call(r,t)}},{key:"clearSeenTransactionalMessages",value:function(e){var t;null===(t=this.state.seenTransactionalMessages.get(e))||void 0===t||t.clear()}}],[{key:"getInstance",value:function(){var e,t;if((0,y.fg)("post-office_choreographer_window_singleton")){if("u">typeof window&&null!==(e=window.postOffice)&&void 0!==e&&null!==(e=e.choreographer)&&void 0!==e&&e.singleton)return window.postOffice.choreographer.singleton;if("u">typeof window)return window.postOffice=Q(Q({},window.postOffice),{},{choreographer:Q(Q({},null===(t=window.postOffice)||void 0===t?void 0:t.choreographer),{},{singleton:new this})}),window.postOffice.choreographer.singleton}return n||(n=new this),n}}]);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(t){(0,l.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z=function(){return!!e})()}var J=function(e){function t(e,r){var n,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,O.A)(this,t),n=t,a=[e,r,o],n=(0,S.A)(n),(0,A.A)(this,z()?Reflect.construct(n,a||[],(0,S.A)(this).constructor):n.apply(this,a))}return(0,w.A)(t,e),(0,E.A)(t)}((0,E.A)(function e(t,r){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,O.A)(this,e),this.state={isDisabled:!1,isDisplayingMessage:!1,metaMetricsData:a,productId:t,unregisterPlugin:function(){}},this.analyticsClient=this.createAnalyticsClient(r),this.finalizers={onStart:function(){return n.blockDisplayState()},onStop:function(){return n.clearDisplayState()}},this.state.unregisterPlugin=this.registerPlugin(t)},[{key:"destroy",value:function(){this.state.unregisterPlugin()}},{key:"isDisplayingMessage",value:function(){return this.state.isDisplayingMessage}},{key:"blockDisplayState",value:function(){this.state.isDisplayingMessage=!0}},{key:"clearDisplayState",value:function(){this.state.isDisplayingMessage=!1}},{key:"disable",value:function(){this.state.isDisabled=!0}},{key:"enable",value:function(){this.state.isDisabled=!1}},{key:"getAnalyticsClient",value:function(){return this.analyticsClient}},{key:"startMessage",value:(s=(0,h.A)(m().mark(function e(t){var r,n,a=arguments;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2?a[2]:void 0,e.abrupt("return",$.getInstance().startMessage(this.state.productId,t,this.analyticsClient,H(H({},this.state.metaMetricsData),r),this,n));case 3:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"stopMessage",value:(c=(0,h.A)(m().mark(function e(t){var r,n=arguments;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",$.getInstance().stopMessage(this.state.productId,t,this.analyticsClient,H(H({},this.state.metaMetricsData),r)));case 2:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $.getInstance().on(this.state.productId,e,t,this.finalizers)}},{key:"onStart",value:function(e,t){return $.getInstance().onStart(this.state.productId,e,t,this.finalizers)}},{key:"onStop",value:function(e,t){return $.getInstance().onStop(this.state.productId,e,t,this.finalizers)}},{key:"off",value:function(e){return $.getInstance().off(this.state.productId,e)}},{key:"shouldBeChoreographed",value:function(e,t,r){return $.getInstance().shouldBeChoreographed(this.state.productId,this.analyticsClient,H(H({},this.state.metaMetricsData),{},{productId:this.state.productId}),e,t,r)}},{key:"registerPlugin",value:function(e){return $.getInstance().registerPlugin(e,this)}},{key:"createAnalyticsClient",value:function(e){return new I.Ay({env:e,product:"postOffice",origin:k.VH.WEB})}}])),Y=G(r(65425).A),X=G(r(40996).A),Z=G(r(70632).A),ee=G(r(64839).A),et=G(r(65463).N),er=G(r(48373).A),en=G(r(70210).A),ea=q(r(50306).A,"isOpen"),eo=q(r(66244).h,"isVisible"),ei=q(r(65026).z,"isOpen"),es=["messageId","onMessageDisposition","messageTtl"],ec=["messageId","onMessageDisposition","messageTtl"];function eu(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{enableChoreographer:!0},a=new J(e,t,r),o=n.messageTtl,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t[b.IF.START],n=t[b.IF.STOP],i=arguments.length>2?arguments[2]:void 0,s=(0,v.useRef)(!1),c=(0,v.useRef)(r),u=(0,v.useRef)(n),l=(0,v.useCallback)((0,h.A)(m().mark(function e(){var t,r,n,a,o,i,u=arguments;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=Array(n=u.length),o=0;o<n;o++)a[o]=u[o];return e.next=3,null===(r=c.current)||void 0===r?void 0:r.call.apply(r,[c].concat(a));case 3:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t,e.next=12;break;case 11:e.t2=!0;case 12:return i=e.t2,s.current=i,e.abrupt("return",i);case 15:case"end":return e.stop()}},e)})),[s]),d=(0,v.useCallback)(function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return a.onStart(e,function(){return l.apply(void 0,(0,f.A)(r))}),a.startMessage(e,{},void 0!==i?i:o)},[e,l,i]),p=(0,v.useCallback)((0,h.A)(m().mark(function e(){var t,r,n,a,o,i,c=arguments;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=Array(n=c.length),o=0;o<n;o++)a[o]=c[o];return e.next=3,null===(r=u.current)||void 0===r?void 0:r.call.apply(r,[u].concat(a));case 3:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t,e.next=12;break;case 11:e.t2=!0;case 12:return i=e.t2,s.current=!i,e.abrupt("return",i);case 15:case"end":return e.stop()}},e)})),[s]),g=(0,v.useCallback)(function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return s.current?(a.onStop(e,function(){return p.apply(void 0,(0,f.A)(r))}),a.stopMessage(e)):Promise.resolve(b.os.STOPPED)},[s,e,p]),y=(0,v.useCallback)(function(){return s.current?g():d()},[s,d,g]);return(0,v.useLayoutEffect)(function(){c.current=r,u.current=n},[r,n]),(0,v.useLayoutEffect)(function(){var t,r;return a.on(e,{start:(t=(0,h.A)(m().mark(function e(){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return e.t0=e.sent,e.t1=b.os.STARTED,e.abrupt("return",e.t0===e.t1);case 5:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),stop:(r=(0,h.A)(m().mark(function e(){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return e.t0=e.sent,e.t1=b.os.STOPPED,e.abrupt("return",e.t0===e.t1);case 5:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})}),function(){g(e),a.off(e)}},[e,d,g]),(0,v.useMemo)(function(){return{startMessage:d,stopMessage:g,toggleMessage:y}},[d,g,y])},s=function(e,t){return(0,y.fg)("post-office_move_shouldbechoreographed")?a.shouldBeChoreographed(e,n,t):K(e,n)},c=function(e){var t=e.messageId,r=e.onMessageDisposition,n=e.messageTtl,a=(0,v.useState)(!1),o=(0,p.A)(a,2),s=o[0],c=o[1],u=i(t,{start:function(){return c(!0)},stop:function(){return c(!1)}},n),l=u.startMessage,d=u.stopMessage;return(0,v.useLayoutEffect)(function(){var e,t,n=(e=(0,h.A)(m().mark(function e(){var t;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:t=e.sent,r?.(t);case 4:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),a=(t=(0,h.A)(m().mark(function e(){var t;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:t=e.sent,r?.(t);case 4:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return n(),function(){a()}},[t,r,l,d,n]),s},g=function(e){var t;function r(t){var r=t.messageId,n=t.onMessageDisposition,a=t.messageTtl,o=(0,d.A)(t,es);return c({messageId:r,onMessageDisposition:n,messageTtl:a})?v.createElement(e,o):null}return r.displayName="Choreographed".concat(null!==(t=e.displayName)&&void 0!==t?t:"Component"),r},E=function(e,t){return function(r){var n=r.messageId,a=r.onMessageDisposition,o=r.messageTtl,s=(0,d.A)(r,ec),c=s[t],f=(0,v.useState)(!1),g=(0,p.A)(f,2),y=g[0],b=g[1],E=i(n,{start:function(){return b(!0)},stop:function(){return b(!1)}},o),O=E.startMessage,A=E.stopMessage;return(0,v.useLayoutEffect)(function(){var e,t,r=(e=(0,h.A)(m().mark(function e(){var t;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,a?.(t);case 4:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),n=(t=(0,h.A)(m().mark(function e(){var t;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,a?.(t);case 4:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return c&&!y?r():!c&&y&&n(),function(){!c&&y&&n()}},[n,a,y,O,A,c,o]),v.createElement(e,(0,u.A)({},s,(0,l.A)({},t,y)))}};function O(e){function t(t){return v.createElement(e,(0,u.A)({},t,{shouldBeChoreographed:s,withChoreographedRender:g}))}return t.displayName=e.displayName="ChoreographerFactory(".concat(e.displayName,")"),t}var A=O(Y),S=O(X),w=O(Z),I=O(ee),k=O(et),C=O(er),D=O(en),M=function(e){function t(t){return v.createElement(e,(0,u.A)({},t,{shouldBeChoreographed:s,withChoreographedToggle:E}))}return t.displayName=e.displayName="ChoreographerFactory(".concat(e.displayName,")"),t}(ea),P=function(){function e(e){return v.createElement(eo,(0,u.A)({},e,{shouldBeChoreographed:s,withChoreographedToggle:E}))}return e.displayName="ChoreographerFactory(".concat(eo.displayName,")"),e}(),T=function(){function e(e){return v.createElement(ei,(0,u.A)({},e,{shouldBeChoreographed:s,withChoreographedToggle:E}))}return e.displayName="ChoreographerFactory(".concat(ei.displayName,")"),e}();return{plugin:a,useChoreographer:i,shouldBeChoreographed:s,useChoreographedRender:c,withChoreographedRender:g,withChoreographedToggle:E,AutoDismissFlag:A,Banner:S,Flag:w,InlineDialog:M,Modal:I,Popper:k,Popup:T,Spotlight:C,SpotlightCard:D,PopoverContent:P}}},10186:function(e,t,r){r.d(t,{K4:()=>i,ho:()=>s,wh:()=>a});var n=r(89263),a={product:void 0,subproduct:void 0,locale:void 0,isSiteAdmin:void 0,tenantId:void 0,workspaceAri:"no-workspace-ari-available",workspaceId:void 0,orgId:void 0,productEdition:void 0},o=(0,n.createContext)(a),i=o.Provider,s=function(){return(0,n.useContext)(o)}},49157:function(e,t,r){r.d(t,{Hp:()=>i,Im:()=>c,Uz:()=>o,VT:()=>u,nj:()=>s,q$:()=>a,tN:()=>n});var n="http://localhost:4224",a="http://localhost:8081",o="/api/v1/placements/",i="/gateway/api/post-office/api/v1/placements/",s="http://localhost:9009",c="https://post-office-rml-frontend.stg-east.frontend.public.atl-paas.net",u="https://post-office-rml-frontend.prod-east.frontend.public.atl-paas.net"},77328:function(e,t,r){r.d(t,{bJ:()=>s,tv:()=>c,vL:()=>o});var n=r(89263),a=r(49157),o={currentEnv:"local",envConfigs:{"test-server":{remoteModule:{origin:a.nj,pathname:void 0,searchParams:void 0},api:{origin:a.tN,pathname:a.tN,searchParams:void 0}},test:{remoteModule:{origin:a.nj,pathname:void 0,searchParams:void 0},api:{origin:a.q$,pathname:a.Uz,searchParams:void 0}},local:{remoteModule:{origin:a.nj,pathname:void 0,searchParams:void 0},api:{origin:a.q$,pathname:a.Uz,searchParams:void 0}},dev:{remoteModule:{origin:a.nj,pathname:void 0,searchParams:void 0},api:{origin:a.q$,pathname:a.Uz,searchParams:void 0}},staging:{remoteModule:{origin:a.Im,pathname:void 0,searchParams:void 0},api:{origin:void 0,pathname:a.Hp,searchParams:void 0}},"stg-fedm-east":{remoteModule:{origin:a.Im,pathname:void 0,searchParams:void 0},api:{origin:void 0,pathname:a.Hp,searchParams:void 0}},production:{remoteModule:{origin:a.VT,pathname:void 0,searchParams:void 0},api:{origin:void 0,pathname:a.Hp,searchParams:void 0}},"prod-fedm-east":{remoteModule:{origin:a.VT,pathname:void 0,searchParams:void 0},api:{origin:void 0,pathname:a.Hp,searchParams:void 0}}}},i=(0,n.createContext)(o),s=i.Provider,c=function(){return(0,n.useContext)(i)}},88142:function(e,t,r){r.d(t,{lU:()=>m,lh:()=>v});var n=r(50938),a=r(51034),o=r(89263),i=r(4685),s=r(20563),c=["children"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=function(e){var t=e.routeSubscriber,r=h({initialUrl:e.initialUrl}),n=function(e){var t,n,a,o=null===(t=e.next)||void 0===t?void 0:t.toString();o===r.current&&r.searchParams===(null===(n=e.next)||void 0===n?void 0:n.searchParams)||(r={previous:r.current,current:o,searchParams:null===(a=e.next)||void 0===a?void 0:a.searchParams})};return{subscribe:function(e){return t(function(t){n(t),e()})},getSnapshot:function(){return r}}},p=function(e){var t=e.subscribe,r=e.getSnapshot,n=(0,i.useSyncExternalStore)(t,r,r);return(0,s.g)(n)},f={previous:void 0,current:void 0,searchParams:void 0},h=function(e){var t=e.initialUrl;return l(l({},f),{},{current:t?t?.toString():void 0,searchParams:t?.searchParams})},g=(0,o.createContext)(f),m=function(e){var t=e.children,r=(0,n.A)(e,c),a=(0,o.useRef)();a.current||(a.current=d(r));var i=p(a.current);return o.createElement(g.Provider,{value:i},t)},v=function(){return(0,o.useContext)(g)}},41369:function(e,t,r){r.d(t,{a:()=>H});var n,a=r(51034),o=r(89263),i=r(27899),s=r(64797),c=r(15200),u=r(10186),l=r(77328),d=r(40210),p=r.n(d),f=(n=new Map,{subscribe:function(e,t){return n.set(e,t),function(){n.delete(e)}},handleEvent:function(e){n.forEach(function(t,r){p()(e.payload,r)&&t()})}}),h=r(95228),g=function(){var e=new Map;return[function(t){return e.set(t,t),function(){e.delete(t)}},function(t){e.forEach(function(e){return e(t)})}]},m=r(88142),v=(0,o.createContext)({update:function(){}}),y=function(){var e=(0,o.useRef)();e.current||(e.current=g());var t=(0,h.A)(e.current,2),r=t[0],n=t[1];return[(0,o.useMemo)(function(){return{initialUrl:new URL(window.location.href),routeSubscriber:r}},[r]),(0,o.useMemo)(function(){return{update:n}},[n])]},b=function(e){var t=e.children,r=y(),n=(0,h.A)(r,2),a=n[0],i=n[1];return o.createElement(v.Provider,{value:i},o.createElement(m.lU,a,t))},E=r(31467),O=function(e){return Array.from(new Set(e).values())};function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w={currentlyMounted:[],hasMounted:[]},I=(0,o.createContext)({placements:w}),k=(0,o.createContext)({placementMount:function(){},placementUnmount:function(){}}),C=function(e){var t=e.children,r=(0,o.useState)(w),n=(0,h.A)(r,2),a=n[0],i=n[1],s=(0,o.useCallback)(function(e){var t=e.placementId;return i(function(e){return e.currentlyMounted.includes(t)?e:S(S({},e),{},{currentlyMounted:O([].concat((0,E.A)(e.currentlyMounted),[t])),hasMounted:O([].concat((0,E.A)(e.hasMounted),[t]))})})},[]),c=(0,o.useCallback)(function(e){var t=e.placementId;return i(function(e){return e.currentlyMounted.includes(t)?S(S({},e),{},{currentlyMounted:e.currentlyMounted.filter(function(e){return e!==t})}):e})},[]),u=(0,o.useMemo)(function(){return{placementMount:s,placementUnmount:c}},[s,c]),l=(0,o.useMemo)(function(){return{placements:a}},[a]);return o.createElement(k.Provider,{value:u},o.createElement(I.Provider,{value:l},t))},D=r(68731),M={activeTriggerState:{activeTriggerId:void 0}},P=o.createContext(M),T=o.createContext({setTriggerState:function(){D.error("No Post Office Trigger Context found. Did you remember to add a Post Office Provider?")}}),R=function(e){var t=e.children,r=(0,o.useState)(M.activeTriggerState),n=(0,h.A)(r,2),a=n[0],i=n[1],s=(0,o.useCallback)(function(e){var t=e.isActive,r=e.triggerId;i(function(e){return e.activeTriggerId!==r||e.activeTriggerId===r&&!1===t?t?{activeTriggerId:r}:{activeTriggerId:void 0}:e})},[]),c=(0,o.useMemo)(function(){return{activeTriggerState:a}},[a]),u=(0,o.useMemo)(function(){return{setTriggerState:s}},[s]);return o.createElement(P.Provider,{value:c},o.createElement(T.Provider,{value:u},t))},j=r(20563),_=function(){var e=new Map;return[function(t){return e.set(t,t),function(){e.delete(t)}},function(t){e.forEach(function(e){return e(t)})}]},x=function(){var e=_(),t=(0,h.A)(e,2),r=t[0],n=t[1],a=_(),o=(0,h.A)(a,2),i=o[0],s=o[1],c=_(),u=(0,h.A)(c,2),l=u[0],d=u[1],p=_(),f=(0,h.A)(p,2),g=f[0],m=f[1],v=_(),y=(0,h.A)(v,2);return{onMessageSnooze:r,snoozeMessageFromPlacement:n,onMessageDismiss:i,dismissMessageFromPlacement:s,onMessageRead:l,markReadFromPlacement:d,onMessageViewed:g,markViewedFromPlacement:m,onMessageClicked:y[0],markClickedFromPlacement:y[1]}},N=(0,o.createContext)(x()).Provider;function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var F=function(e,t){var r,n,o,i,s,c,u,l,d,p,f,h,g=t.env,m=t.overrides;return{currentEnv:g,envConfigs:U(U({},e.envConfigs),{},(0,a.A)({},g,{remoteModule:{origin:null!==(r=null==m||null===(n=m.remoteModule)||void 0===n?void 0:n.origin)&&void 0!==r?r:e.envConfigs[g].remoteModule.origin,pathname:null!==(o=null==m||null===(i=m.remoteModule)||void 0===i?void 0:i.pathname)&&void 0!==o?o:e.envConfigs[g].remoteModule.pathname,searchParams:null!==(s=null==m||null===(c=m.remoteModule)||void 0===c?void 0:c.searchParams)&&void 0!==s?s:e.envConfigs[g].remoteModule.searchParams},api:{origin:null!==(u=null==m||null===(l=m.api)||void 0===l?void 0:l.origin)&&void 0!==u?u:e.envConfigs[g].api.origin,pathname:null!==(d=null==m||null===(p=m.api)||void 0===p?void 0:p.pathname)&&void 0!==d?d:e.envConfigs[g].api.pathname,searchParams:null!==(f=null==m||null===(h=m.api)||void 0===h?void 0:h.searchParams)&&void 0!==f?f:e.envConfigs[g].api.searchParams}}))}},B=r(18137),K=r(16177),G="placement-api",q=new K.A("POST_OFFICE__CLIENT_CACHE"),V=function(e){if(e instanceof Map&&e.size>0){var t=Q(),r=Array.from(new Map([].concat((0,E.A)(t),(0,E.A)(e))).entries());q.setItemWithExpiry(G,r,12e4)}},Q=function(){if(typeof window>"u")return new Map;var e=q.getItem(G)||[];return new Map(e)};function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var H=function(e){var t=e.environment,r=e.context,n=e.children,a=(0,j.g)(F(l.vL,t)),i=(0,j.g)(X(u.wh,r.current)),s=(0,o.useMemo)(function(){return x()},[]);return o.createElement(J,null,o.createElement(l.bJ,{value:a},o.createElement(u.K4,{value:i},o.createElement(C,null,o.createElement(N,{value:s},o.createElement(b,null,o.createElement(R,null,o.createElement(Y,null,n))))))))},z={provider:Q,use:[function(e){return function(t,r,n){var a=(0,B.useSWRConfig)().cache,i=e(t,r,n);return(0,o.useEffect)(function(){void 0!==i.data&&V(a)},[i.data]),i}}]},J=function(e){var t=e.children;return(0,c.fg)("post-office-use-placement-with-client")?o.createElement(i.BE,{value:z},t):o.createElement(o.Fragment,null,t)},Y=function(e){var t=e.children;if((0,c.fg)("post-office-analytics-listener-enabled")){var r=f.handleEvent;return o.createElement(s.A,{channel:"*",onEvent:r},t)}return o.createElement(o.Fragment,null,t)},X=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(function(e,t){for(var r in t)typeof t[r]>"u"&&delete t[r];return W(W({},e),t)},W({},e))}},20563:function(e,t,r){r.d(t,{g:()=>a});var n=r(89263);function a(e){return(0,n.useMemo)(function(){return e},Object.entries(e).sort().flatMap(function(e){return e}))}},31611:function(e,t,r){r.d(t,{A:()=>tO});var n,a,o,i,s,c,u,l,d,p,f,h,g,m,v,y,b,E,O,A=r(53847),S=r(89263),w=r(77328),I=r(20563),k=r(51034),C=r(74003),D=r(67905),M=r(88142),P=r(10186),T=r(12958),R=r(77408),j=r(4449),_=r(31259),x=r(45440),N=r(31467),L=r(20298),U=r(88215),F=r.n(U),B=r(22495),K=function(){return"u">typeof window},G=((n={})[n.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",n[n.SUBSCRIBE=1]="SUBSCRIBE",n[n.UNSUBSCRIBE=2]="UNSUBSCRIBE",n),q=((a={}).VISIBLE="visible",a.HIDDEN="hidden",a.MIXED="mixed",a),V=((o={}).fmp="fmp",o.tti="tti",(i={}).fmp="fmp",i.tti="tti",(s={}).response="response",s.result="result","__SUBSCRIBE_ALL__"),Q="inline-response",$=function(){if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){var e,t=(e=[],{__buffer_only__:!0,push:function(t){e.length<250&&e.push(t)},getStream:function(){return e}});globalThis.__UFO_GLOBAL_EVENT_STREAM__=t}return globalThis.__UFO_GLOBAL_EVENT_STREAM__},W=r(68731),H=function(){function e(){(0,R.A)(this,e),(0,k.A)(this,"enabled",!1)}return(0,T.A)(e,[{key:"log",value:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];this.enabled&&W.log.apply(W,[e.UFOprefix].concat(r))}},{key:"warn",value:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];this.enabled&&W.warn.apply(W,[e.UFOprefix].concat(r))}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}}])}();(0,k.A)(H,"UFOprefix","[ufo]");var z=new H,J=function(){z.log.apply(z,arguments)},Y=function(){z.warn.apply(z,arguments)},X=new((0,T.A)(function e(){var t=this;(0,R.A)(this,e),(0,k.A)(this,"started",!1),(0,k.A)(this,"observers",[]),(0,k.A)(this,"broadcast",function(){t.observers.forEach(function(e){return e()}),t.observers=[]})},[{key:"start",value:function(){this.started||(this.started=!0,document.addEventListener("visibilitychange",this.broadcast),K()&&window.addEventListener("pagehide",this.broadcast))}},{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"unsubscribe",value:function(e){this.observers=this.observers.filter(function(t){return t!==e})}}])),Z={NOT_STARTED:{id:"NOT_STARTED",final:!0},STARTED:{id:"STARTED"},IN_PROGRESS:{id:"IN_PROGRESS"},BLOCKED:{id:"BLOCKED"},RECOVERED:{id:"RECOVERED"},SUCCEEDED:{id:"SUCCEEDED",final:!0,success:!0},SUCCEEDED_WAITING_FOR_DEPS:{id:"SUCCEEDED_WAITING_FOR_DEPS"},FAILED:{id:"FAILED",final:!0},ABORTED:{id:"ABORTED",final:!0}},ee=(0,k.A)((0,k.A)((0,k.A)((0,k.A)((0,k.A)((0,k.A)((0,k.A)((0,k.A)((0,k.A)({},Z.NOT_STARTED.id,[Z.STARTED.id]),Z.STARTED.id,[Z.IN_PROGRESS.id,Z.BLOCKED.id,Z.SUCCEEDED.id,Z.SUCCEEDED_WAITING_FOR_DEPS.id,Z.FAILED.id,Z.ABORTED.id]),Z.IN_PROGRESS.id,[Z.BLOCKED.id,Z.SUCCEEDED.id,Z.SUCCEEDED_WAITING_FOR_DEPS.id,Z.FAILED.id,Z.ABORTED.id]),Z.BLOCKED.id,[Z.RECOVERED.id,Z.ABORTED.id]),Z.RECOVERED.id,[Z.STARTED.id,Z.SUCCEEDED.id,Z.SUCCEEDED_WAITING_FOR_DEPS.id,Z.FAILED.id,Z.ABORTED.id]),Z.SUCCEEDED.id,[Z.STARTED.id]),Z.SUCCEEDED_WAITING_FOR_DEPS.id,[Z.SUCCEEDED.id,Z.FAILED.id,Z.ABORTED.id]),Z.FAILED.id,[Z.STARTED.id]),Z.ABORTED.id,[Z.STARTED.id]),et=((c={}).Load="load",c.Experience="experience",c.Operation="operation",c),er=((u={}).PageLoad="page-load",u.PageSegmentLoad="page-segment-load",u.InlineResult="inline-result",u.Custom="custom",u);function en(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?en(Object(r),!0).forEach(function(t){(0,k.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):en(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eo=function(){return K()&&window.document&&"visible"!==window.document.visibilityState?q.HIDDEN:q.VISIBLE},ei=function(e){return void 0!==e?~~e:~~performance.now()};function es(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(es=function(){return!!e})()}var ec=function(e){function t(){var e,r;return(0,R.A)(this,t),e=t,r=arguments,e=(0,_.A)(e),(0,j.A)(this,es()?Reflect.construct(e,r||[],(0,_.A)(this).constructor):e.apply(this,r))}return(0,x.A)(t,e),(0,T.A)(t)}((0,T.A)(function e(t,r){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,R.A)(this,e),(0,k.A)(this,"state",Z.NOT_STARTED),(0,k.A)(this,"instanceId",null),(0,k.A)(this,"parent",null),(0,k.A)(this,"category",null),(0,k.A)(this,"metadata",{}),(0,k.A)(this,"onDoneCallbacks",[]),(0,k.A)(this,"childExperiences",[]),(0,k.A)(this,"explicitTimings",{}),(0,k.A)(this,"isSSROutputAsFMP",!1),(0,k.A)(this,"uuid",null),(0,k.A)(this,"_until",null),(0,k.A)(this,"metrics",{startTime:null,endTime:null,marks:[]}),(0,k.A)(this,"performanceConfig",{}),(0,k.A)(this,"setPageVisibleStateToMixed",function(){n.pageVisibleState=q.MIXED,X.unsubscribe(n.setPageVisibleStateToMixed)}),this.id=t,this.category=r?.category||null,this.until=r?.until||null,this.instanceId=a,this.handleDoneBind=this._handleDoneExperience.bind(this),this.type=r.type,this.performanceType=r.performanceType,this.performanceConfig=r.performanceConfig||{},this.config=r,this.pageVisibleState=eo(),this.featureFlags=r.featureFlags||[],this.timings=r.timings||[],(r.performanceType===er.PageLoad||r.performanceType===er.PageSegmentLoad)&&(this.isSSROutputAsFMP=r.isSSROutputAsFMP||!1)},[{key:"transition",value:(l=(0,L.A)(F().mark(function e(t,r){var n;return F().wrap(function(e){for(var a,o;;)switch(e.prev=e.next){case 0:if(J("async transition",this.id,this.state.id,t.id),!(ee[(a=this.state).id]&&ee[a.id].includes(t.id))){e.next=15;break}if(J("TRANSITION: ".concat(this.id," from ").concat(this.state.id," to ").concat(t.id," successful"),this.state.final,!t.final),t===Z.STARTED&&this._reset(),this.state.final&&!t.final&&(this.metrics.startTime=ei(r),this.uuid=(0,B.v4)()),this.state=t,!t.final){e.next=14;break}return this.metrics.endTime=ei(r),this._isManualStateEnabled()||$().push((o=this.handleDoneBind,{type:G.UNSUBSCRIBE,payload:{experienceId:V,callback:o}})),e.next=11,this.exportData();case 11:n=e.sent,J("this.parent",this.parent),$().push({type:G.EXPERIENCE_PAYLOAD,payload:n});case 14:return e.abrupt("return",!0);case 15:return J("TRANSITION: ".concat(this.id," from ").concat(this.state.id," to ").concat(t.id," unsuccessful")),Y("transition of ".concat(this.id," from ").concat(this.state," to ").concat(t," is not possible")),e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,this)})),function(e,t){return l.apply(this,arguments)})},{key:"start",value:(d=(0,L.A)(F().mark(function e(t){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transition(Z.STARTED,t);case 2:var r;e.sent&&(this.pageVisibleState=eo(),X.subscribe(this.setPageVisibleStateToMixed),this._isManualStateEnabled()||(J("subscribed",this.id),$().push((r=this.handleDoneBind,{type:G.SUBSCRIBE,payload:{experienceId:V,callback:r}}))));case 4:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"mark",value:function(e,t){"fmp"!==e&&e!==Q?this._mark(e,t):Y("please use markFMP or markInlineResponse for specialised marks")}},{key:"_mark",value:function(e,t){this.metrics.marks.push({name:e,time:ei(t)}),this.transition(Z.IN_PROGRESS)}},{key:"markFMP",value:function(e){this._mark("fmp",e)}},{key:"markInlineResponse",value:function(e){this._mark(Q,e)}},{key:"_isManualStateEnabled",value:function(){return null===this.until}},{key:"_validateManualState",value:function(){return!!this._isManualStateEnabled()||(Y('manual change of state not allowed as "until" is defined'),!1)}},{key:"switchToEndState",value:function(e,t){return null!=t&&t.force||this._validateManualState()?(null!=t&&t.metadata&&this.addMetadata(t.metadata),X.unsubscribe(this.setPageVisibleStateToMixed),this.transition(e)):null}},{key:"success",value:(p=(0,L.A)(F().mark(function e(t){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.switchToEndState(Z.SUCCEEDED,t));case 1:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"failure",value:(f=(0,L.A)(F().mark(function e(t){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.switchToEndState(Z.FAILED,t));case 1:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"abort",value:(h=(0,L.A)(F().mark(function e(t){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.switchToEndState(Z.ABORTED,t));case 1:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"addMetadata",value:function(e){Object.assign(this.metadata,e)}},{key:"_handleDoneExperience",value:function(e){if(J("_handleDoneExperience in",this.id,e.state,e,this._until),e.state.final&&null!==this._until){var t=this._until(e),r=t.done,n=t.state;r&&!this.state.final&&this.transition(n)}}},{key:"getId",value:(g=(0,L.A)(F().mark(function e(){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.id);case 1:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"exportData",value:(m=(0,L.A)(F().mark(function e(){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getId();case 2:return e.t0=e.sent,e.t1=this.uuid,e.t2=this.type,e.t3="0.1.5",e.t4=this.performanceType,e.t5=this.category,e.t6=this.state,e.t7=ea({},this.metadata),e.t8=ea({},this.metrics),e.t9=(0,N.A)(this.childExperiences),e.t10={success:!!this.state.success,startTime:this.metrics.startTime,duration:(this.metrics.endTime||0)-(this.metrics.startTime||0)},e.t11=this.config.platform||null,e.t12=this.pageVisibleState,e.t13=this.featureFlags,e.t14=this.isSSROutputAsFMP,e.t15=this.timings,e.t16=this.explicitTimings,e.t17=this.performanceConfig,e.abrupt("return",{id:e.t0,uuid:e.t1,type:e.t2,schemaVersion:e.t3,performanceType:e.t4,category:e.t5,state:e.t6,metadata:e.t7,metrics:e.t8,children:e.t9,result:e.t10,platform:e.t11,pageVisibleState:e.t12,featureFlags:e.t13,isSSROutputAsFMP:e.t14,timings:e.t15,explicitTimings:e.t16,performanceConfig:e.t17});case 21:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"_reset",value:function(){this.parent=null,this.metadata={},this.onDoneCallbacks=[],this.childExperiences=[],this.metrics={startTime:null,endTime:null,marks:[]},this._until=this.until?this.until():null}}])),eu={PLACEMENT:"post-office-placement",MESSAGE:"post-office-message"},el="post-office";function ed(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(r),!0).forEach(function(t){(0,k.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ed(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ef(e,t){var r="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return eh(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eh(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(r),!0).forEach(function(t){(0,k.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ev(e,t){var r="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ey(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ey(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}(0,T.A)(function e(t){var r=this;(0,R.A)(this,e),(0,k.A)(this,"metadata",{}),(0,k.A)(this,"markSuccess",function(){var e,t=ef(r.experiences);try{for(t.s();!(e=t.n()).done;)e.value.success({metadata:r.metadata})}catch(e){t.e(e)}finally{t.f()}}),(0,k.A)(this,"markFailure",function(e){var t,n=ef(r.experiences);try{for(n.s();!(t=n.n()).done;)t.value.failure({metadata:ep(ep({},r.metadata),{},{error:JSON.stringify(e)})})}catch(e){n.e(e)}finally{n.f()}}),(0,k.A)(this,"abort",function(){var e,t=ef(r.experiences);try{for(t.s();!(e=t.n()).done;)e.value.abort({metadata:r.metadata})}catch(e){t.e(e)}finally{t.f()}}),this.aggregatedExperience=new ec(eu.MESSAGE,{performanceType:er.PageSegmentLoad,type:et.Load,platform:{component:el}}),this.messageSpecificExperience=new ec("".concat(eu.MESSAGE,".").concat(t),{performanceType:er.PageSegmentLoad,type:et.Load,platform:{component:el}}),this.experiences=[this.aggregatedExperience,this.messageSpecificExperience],this.experiences.forEach(function(e){return e.start()}),this.metadata={messageTemplateId:t}});var eb={RML_FETCH:"rml-fetch",RML_RENDER:"rml-render",INITIAL_DATA:"initial-data-load",COMPONENT_READY:"component-ready"},eE={performanceType:er.PageSegmentLoad,type:et.Load,platform:{component:el},timings:[{key:"".concat(eb.RML_FETCH,"-complete"),endMark:"".concat(eb.RML_FETCH,"-complete")},{key:"".concat(eb.RML_RENDER,"-complete"),endMark:"".concat(eb.RML_RENDER,"-complete")},{key:"".concat(eb.INITIAL_DATA,"-complete"),endMark:"".concat(eb.INITIAL_DATA,"-complete")},{key:"".concat(eb.INITIAL_DATA,"-error"),endMark:"".concat(eb.INITIAL_DATA,"-error")}]},eO={PlacementPerformanceTracker:(0,T.A)(function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"remote";(0,R.A)(this,e),(0,k.A)(this,"placementExperiences",[]),(0,k.A)(this,"metadata",{}),(0,k.A)(this,"markFetchComplete",function(){var e,t=ev(r.placementExperiences);try{for(t.s();!(e=t.n()).done;)e.value.mark("".concat(eb.RML_FETCH,"-complete"))}catch(e){t.e(e)}finally{t.f()}}),(0,k.A)(this,"markRenderComplete",function(){var e,t=ev(r.placementExperiences);try{for(t.s();!(e=t.n()).done;)e.value.mark("".concat(eb.RML_RENDER,"-complete"))}catch(e){t.e(e)}finally{t.f()}}),(0,k.A)(this,"markInitialDataComplete",function(){var e,t=ev(r.placementExperiences);try{for(t.s();!(e=t.n()).done;)e.value.mark("".concat(eb.INITIAL_DATA,"-complete"))}catch(e){t.e(e)}finally{t.f()}}),(0,k.A)(this,"markComponentReady",function(){var e,t=ev(r.placementExperiences);try{for(t.s();!(e=t.n()).done;)e.value.success({metadata:r.metadata})}catch(e){t.e(e)}finally{t.f()}}),(0,k.A)(this,"markFetchFailure",function(e){var t,n=ev(r.placementExperiences);try{for(n.s();!(t=n.n()).done;)t.value.failure({metadata:em(em({},r.metadata),{},{failedDuring:eb.RML_FETCH,error:JSON.stringify(e)})})}catch(e){n.e(e)}finally{n.f()}}),(0,k.A)(this,"markRenderFailure",function(e){var t,n=ev(r.placementExperiences);try{for(n.s();!(t=n.n()).done;)t.value.failure({metadata:em(em({},r.metadata),{},{failedDuring:eb.RML_RENDER,error:JSON.stringify(e)})})}catch(e){n.e(e)}finally{n.f()}}),(0,k.A)(this,"markInitialDataFailure",function(e){var t,n=ev(r.placementExperiences);try{for(n.s();!(t=n.n()).done;)t.value.mark("".concat(eb.INITIAL_DATA,"-error"))}catch(e){n.e(e)}finally{n.f()}}),(0,k.A)(this,"markComponentFailure",function(e){var t,n=ev(r.placementExperiences);try{for(n.s();!(t=n.n()).done;)t.value.failure({metadata:em(em({},r.metadata),{},{failedDuring:eb.COMPONENT_READY,error:JSON.stringify(e)})})}catch(e){n.e(e)}finally{n.f()}}),(0,k.A)(this,"markComponentAborted",function(){var e,t=ev(r.placementExperiences);try{for(t.s();!(e=t.n()).done;)e.value.abort({metadata:r.metadata})}catch(e){t.e(e)}finally{t.f()}}),this.aggregatedExperience=new ec(eu.PLACEMENT,eE),this.placementSpecificExperience=new ec("".concat(eu.PLACEMENT,".").concat(t),eE),this.placementExperiences=[this.aggregatedExperience,this.placementSpecificExperience];var a,o=ev(this.placementExperiences);try{for(o.s();!(a=o.n()).done;)a.value.start()}catch(e){o.e(e)}finally{o.f()}this.metadata={placementId:t,consumptionType:n}})},eA=r(58674),eS=r(10993),ew={SegmentNames:{REMOTE_PLACEMENT:"post-office-remote-loaded-placement",PLACEMENT:"post-office-placement",MESSAGE:"post-office-message"},HoldNames:{REMOTE_PLACEMENT:"post-office-remote-loaded-placement-loading",PLACEMENT:"post-office-placement-loading",MESSAGE:"post-office-message-loading"},UFOLoadHold:eA.A,UFOSegment:eS.A},eI=(0,S.createContext)({fetch:function(){return globalThis.fetch.apply(globalThis,arguments)}}),ek=r(95228);function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var eD=function(e,t){return fetch(e,{headers:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(t){(0,k.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({credentials:"include",mode:"cors","Content-Type":"application/json"},t)})},eM=(v=(0,L.A)(F().mark(function e(t,r){var n,a,o,i,s,c,u,l=arguments;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:eD,o=(a=l.length>3?l[3]:void 0).baseUrl,i=a.path,s=o?new URL(i,o).toString():i,(c=new URLSearchParams(Object.fromEntries(Object.entries(r).filter(function(e){var t=(0,ek.A)(e,2)[1];return"u">typeof t&&null!==t}).map(function(e){var t=(0,ek.A)(e,2);return[t[0],String(t[1])]})))).sort(),u=encodeURI("".concat(s).concat(t,"?").concat(c.toString())),e.abrupt("return",n(u));case 10:case"end":return e.stop()}},e)})),function(e,t){return v.apply(this,arguments)}),eP=r(49157),eT=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.vL.envConfigs;return{baseUrl:r[e].api.origin,path:null!==(t=r[e].api.pathname)&&void 0!==t?t:eP.Hp}},eR=function(){var e=(0,w.tv)();return(0,S.useMemo)(function(){return eT(e.currentEnv,e.envConfigs)},[e.currentEnv,e.envConfigs])};function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(t){(0,k.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ex=function(e,t,r,n,a){var o=(0,S.useContext)(eI);return(0,S.useMemo)(function(){return a?void 0:eM(e,t,o.fetch,{baseUrl:r,path:n})},[a,r,n,e,t,o.fetch])};let eN=function(e){var t=e.placementId,r=e.consumptionType,n=e.onEvent,a=e.disableInitialData,o=e.children,i=D.Ay.checkGate("enable_ufo_tracking_in_post_office"),s=(0,M.lh)(),c=(0,P.ho)(),u=eR(),l=u.baseUrl,d=u.path,p=(0,I.g)(e_(e_({},c),{},{postOfficeRoute:s})),f=(0,S.useMemo)(function(){return i?new eO.PlacementPerformanceTracker(t,r):void 0},[i,t,r]),h=(0,S.useCallback)(function(e){var t=e.type,r=e.error;switch(n?.({type:t,error:r}),t){case"fetch-complete":f?.markFetchComplete();break;case"fetch-error":f?.markFetchFailure(r);break;case"render-complete":f?.markRenderComplete();break;case"render-error":f?.markRenderFailure(r);break;case"initial-data-complete":f?.markInitialDataComplete();break;case"initial-data-error":f?.markInitialDataFailure(r);break;case"component-error":f?.markComponentFailure(r);break;case"component-ready":f?.markComponentReady();break;case"unmount":f?.markComponentAborted()}},[n,f]),g=ex(t,c,l,d,void 0!==a&&a),m=(0,S.useMemo)(function(){return{source:"post-office-frontend",componentName:"Placement",attributes:{placementId:t,channel:"in-app"}}},[t]);return S.createElement(eL,{placementId:t,isEnabled:i},S.createElement(C.G4,{data:m},o({initialData:g,context:p,onEvent:h})))};var eL=function(e){var t=e.isEnabled,r=e.placementId,n=e.children;return t?S.createElement(ew.UFOSegment,{name:ew.SegmentNames.PLACEMENT},S.createElement(ew.UFOSegment,{name:"".concat(ew.SegmentNames.PLACEMENT,".").concat(r)},n)):S.createElement(S.Fragment,null,n)},eU=r(50938),eF=r(66403),eB=r(54131);function eK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eK=function(){return!!e})()}var eG=function(e){function t(e){var r,n,a;return(0,R.A)(this,t),n=t,a=[e],n=(0,_.A)(n),(r=(0,j.A)(this,eK()?Reflect.construct(n,a||[],(0,_.A)(this).constructor):n.apply(this,a))).state={hasError:!1},r}return(0,x.A)(t,e),(0,T.A)(t,[{key:"componentDidCatch",value:function(e,t){this.props.createAnalyticsEvent({action:"handled",actionSubject:"error",actionSubjectId:"remoteModuleErrorBoundary",attributes:{error:e?.message,errorInfo:t,dimensions:this.props.remotePlugin.dimensions,plugin:this.props.remotePlugin.constructor.name}}).fire(this.props.analyticsChannel),this.props.onError&&this.props.onError(e,t),this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?this.props.fallback?S.createElement(S.Fragment,null,this.props.fallback):null:this.props.children}}])}(S.Component);let eq=(0,eB.A)()(eG);var eV=(y=(0,L.A)(F().mark(function e(t){var r;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,System.import(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)})),function(e){return y.apply(this,arguments)}),eQ=function(){},e$={},eW=r(41199),eH=((b={}).React="react",b.ReactDOM="react-dom",b.ReactIntlNext="react-intl-next",b.EmotionReact="@emotion/react",b.FeatureGateJsClientPublic="@atlaskit/feature-gate-js-client",b.AnalyticsContext="@atlaskit/analytics-next-stable-react-context",b),ez=((E={}).AppSwitcher="app-switcher",E.PostOffice="post-office",E),eJ=["latest","stable"];eH.React,eH.ReactDOM,eH.ReactIntlNext,eH.EmotionReact;var eY=r(82375);let eX=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e+JSON.stringify(t.sort(function(e,t){return(e.name+e.version).localeCompare(t.name+t.version)}));return(0,eY.t)(r)};var eZ=r(68731);function e0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e0(Object(r),!0).forEach(function(t){(0,k.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e0(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var e2=function(e){try{switch(e){case eH.React:return{isDefault:!0,import:r(89263)};case eH.ReactDOM:return{isDefault:!0,import:r(976)};case eH.ReactIntlNext:return{isDefault:!0,import:r(40407)};case eH.EmotionReact:return{isDefault:!1,import:r(27629)};case eH.FeatureGateJsClientPublic:return{isDefault:!1,import:r(41323)};case eH.AnalyticsContext:return{isDefault:!0,import:r(89099)};default:return}}catch{eZ.error("Module [".concat(e,"] is possibly not installed."));return}},e4=function(e){if("module"in e)return e;var t={module:e.name,import:void 0,isDefault:!1};if(!Object.values(eH).find(function(t){return t===e.name}))return eZ.error("Excluded system module [".concat(e.name,"] must be setup inside '/remote-setup/config.ts'. Modules cannot be excluded and required dynamically.")),t;var r=e2(e.name);return r?e1({module:e.name},r):t},e3=function(e){try{var t=e.map(function(e){return e.import&&(0,k.A)({},e.module,e.scopedModuleId)});return Object.assign.apply(Object,[{}].concat((0,N.A)(t)))}catch(e){return eZ.error("Could not set scoped modules with error message: ".concat(e)),null}},e8=r(68731);r(4669);var e5=function(e,t){if(!e||0===e.length)return e8.error("No modules found to set in System registry"),null;var r=e.map(e4).map(function(e){return e.isDefault?{module:e.module,import:e1(e1({},e.import),{},{default:e.import,__useDefault:!0}),scopedModuleId:"".concat(t,":").concat(e.module)}:{module:e.module,import:e.import,scopedModuleId:"".concat(t,":").concat(e.module)}});return r.forEach(function(e){if(!e.import){e8.error("Unable to set import for module [".concat(e.module,"]. Please ensure it has been installed and is available."));return}System.set(e.scopedModuleId,e.import)}),e3(r)},e9=function(e,t){var r=e6(e)?".".concat(e7(e)):"";return new ec(t,{type:et.Load,performanceType:er.Custom,platform:{component:"remote-module-loader".concat(r)}})},e7=function(e){return e.replace(/\//g,"-").replace(/[^a-zA-Z0-9-.]/g,"")},e6=function(e){return""!==e&&"@atlassian/app-switcher-remote-module"!==e},te=r(68731);function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tr=function(e){return e?.moduleUri!==void 0},tn=(0,T.A)(function e(t){(0,R.A)(this,e),(0,k.A)(this,"resolvedModuleMap",new Map),(0,k.A)(this,"storageClient",new eW.A("remote-module-loader-bifrost-override",{storageEngine:"sessionStorage"})),this.plugin=t,this.importMap=this.findPluginManifest(t),this.setImportMaps([this.importMap]),this.renderUfoExperience=e9(this.getModuleName(),"render")},[{key:"findPluginManifest",value:function(e){if(e){var t=e.manifestMap,r=e.dimensions,n=t.get(r.env);if(n){if(tr(n))return n;var a=eJ.indexOf(r.variant);if(a>-1){for(var o=a;o<eJ.length;o++){var i=n.get(eJ[o]);if(tr(i))return this.variant=eJ[o],i}throw Error('No valid "variant" dimensions defined in plugin for ['.concat(r.variant,"]."))}throw Error('Invalid "variant" dimension defined in plugin for ['.concat(r.variant,"]."))}throw Error('No "env" dimension defined in plugin for ['.concat(r.env,"]."))}throw Error('Invalid "plugin" provided to SDK.')}},{key:"getModuleName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.importMap;return e?e.moduleName:""}},{key:"loadFromQueryAndSaveToSession",value:function(e){try{var t=new URLSearchParams(window.location.search);if(t.has("".concat(e,"-clear"))){this.storageClient.removeItem(e);return}if(!t.has(e))return this.storageClient.getItem(e)||void 0;var r=t.get(e);return this.storageClient.setItemWithExpiry(e,r,108e5),r}catch(e){te.error("Error loading value from query or sessionStorage: ".concat(e));return}}},{key:"addBifrostOverride",value:function(e){try{if(!(null!==(t=this.plugin)&&void 0!==t&&t.bifrostOverrideKey))return e;var t,r,n=this.loadFromQueryAndSaveToSession(null===(r=this.plugin)||void 0===r?void 0:r.bifrostOverrideKey);if(!n)return e;var a=new URL(e);if("https:"===a.protocol||"http:"===a.protocol){var o=new URLSearchParams(a.search);o.set("bifrost-override",n),a.search=o.toString()}return a.toString()}catch{return te.error("Error adding bifrost override to url. Falling back to original url."),e}}},{key:"getModuleUri",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.importMap;if(e){var t,r,n=e.moduleUri;return null!==(t=this.plugin)&&void 0!==t&&t.moduleUriMapper&&(n=this.plugin.moduleUriMapper(e.moduleUri,this.variant,eX)),null!==(r=this.plugin)&&void 0!==r&&r.bifrostOverrideKey&&(n=this.addBifrostOverride(n)),n}return""}},{key:"getResolvedModule",value:function(){return this.resolvedModuleMap.get(this.getModuleName())}},{key:"isModuleRegisteredAndValid",value:function(){return System.has(this.getModuleUri())&&!!System.get(this.getModuleUri())&&!!this.getResolvedModule()}},{key:"setImportMaps",value:function(e){var t,r=this,n=null;try{n=e5(e.flatMap(function(e){return e.externals}),(null===(t=this.plugin)||void 0===t?void 0:t.name)||ez.AppSwitcher)}catch(e){te.error(e)}System.addImportMap(e.reduce(function(e,t){var a=r.getModuleUri(t);if(e.imports[t.moduleName]=a,n&&t.externals.length){e.scopes[a]={};var o,i=function(e,t){var r="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return tt(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(e,t):void 0}}(e))){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}(t.externals);try{for(i.s();!(o=i.n()).done;){var s=o.value,c="name"in s?s.name:s.module;e.scopes[a][c]=n[c]}}catch(e){i.e(e)}finally{i.f()}}return e},{imports:{},scopes:{}}))}},{key:"fetchModule",value:(O=(0,L.A)(F().mark(function e(){var t,r;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.importMap){e.next=7;break}return t=this.importMap.moduleName,e.next=4,eV(t);case 4:return r=e.sent,this.resolvedModuleMap.set(t,r),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"resolveExport",value:function(e){var t=this.getResolvedModule();if(t)return e?t[e]:t}},{key:"renderComponent",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:eQ,s=this.resolveExport(t);return s?(e=S.isValidElement(s)?r?S.cloneElement(s,r,a):s:S.createElement(s,r,a),i({type:"render-complete"}),o?.success({metadata:{moduleName:this.getModuleName()}}),e):n}}]);let ta=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e$,r=(0,S.useState)({status:e.isModuleRegisteredAndValid()?"done":"initial"}),n=(0,ek.A)(r,2),a=n[0],o=n[1],i=a.status,s=a.error,c=t.onError,u=t.onEvent,l=e.getModuleName(),d=(0,S.useMemo)(function(){return e9(l,"fetch")},[l]);return(0,S.useEffect)(function(){return function(){d.abort({metadata:{moduleName:l}})}},[d,l]),(0,S.useEffect)(function(){"error"===i&&"function"==typeof c&&c(s)},[s,i,c]),(0,S.useEffect)(function(){"initial"===i&&(d.start(),o({status:"loading"}),e.fetchModule().then(function(){u?.({type:"fetch-complete"}),d.success({metadata:{moduleName:l}}),o({status:"done"})}).catch(function(e){u?.({type:"fetch-error"}),d.failure({metadata:{error:e,moduleName:l}}),o({error:e,status:"error"})}))},[i,e,c,d,l,u]),a};function to(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?to(Object(r),!0).forEach(function(t){(0,k.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):to(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ts=new WeakMap,tc=function(e){var t=ts.get(e);if(t)return t;var r=new tn(e);return ts.set(e,r),r};let tu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e$,r=tc(e),n=r.renderUfoExperience,a=r.getModuleName();(0,S.useEffect)(function(){"NOT_STARTED"===n.state.id&&n.start()},[n]);var o=(0,eF.X)().createAnalyticsEvent;return(0,S.useEffect)(function(){o({action:"rendered",actionSubject:"remoteModule",actionSubjectId:"useRemoteModule",attributes:{dimensions:e.dimensions,plugin:e.constructor.name}}).fire(t?.analyticsChannel)},[o,e,t.analyticsChannel]),ta(r,(0,S.useMemo)(function(){return ti(ti({},t),{},{onError:function(e){var r;n.failure({metadata:{moduleName:a}}),null==t||null===(r=t.onError)||void 0===r||r.call(t,e)}})},[n,a,t])),r};var tl=["analyticsChannel","remotePlugin","exportName","children","Fallback"],td=["analyticsChannel","remotePlugin","ErrorFallback","onEvent"],tp=function(e){var t=e.analyticsChannel,r=e.remotePlugin,n=e.exportName,a=void 0===n?"default":n,o=e.children,i=void 0===o?null:o,s=e.Fallback,c=void 0===s?null:s,u=(0,eU.A)(e,tl),l=(0,S.useState)(),d=(0,ek.A)(l,2)[1],p=(0,eF.X)().createAnalyticsEvent;(0,S.useEffect)(function(){p({action:"rendered",actionSubject:"remoteModule",actionSubjectId:"remoteComponent",attributes:{exportName:a,dimensions:r.dimensions,plugin:r.constructor.name}}).fire(t)},[t,p,a,r]);var f=tu(r,{analyticsChannel:t,onError:(0,S.useCallback)(function(e){d(function(){throw e})},[]),onEvent:u.onEvent});return(0,S.useEffect)(function(){return function(){f.renderUfoExperience.abort({metadata:{moduleName:f.getModuleName()}})}},[f]),S.createElement(S.Fragment,null,f.renderComponent(a,u,c,i,f.renderUfoExperience,u.onEvent))};let tf=(0,S.memo)(function(e){var t=e.analyticsChannel,r=e.remotePlugin,n=e.ErrorFallback,a=e.onEvent,o=void 0===a?eQ:a,i=(0,eU.A)(e,td);(0,S.useEffect)(function(){return function(){o({type:"unmount"})}},[o]);var s=(0,S.useCallback)(function(e){o({error:e,type:"render-error"})},[o]);return S.createElement(eq,{analyticsChannel:t,remotePlugin:r,onError:s,fallback:void 0===n?null:n},S.createElement(tp,(0,A.A)({analyticsChannel:t,remotePlugin:r,onEvent:o},i)))});var th=r(11771),tg="latest",tm=(0,T.A)(function e(t,r){(0,R.A)(this,e),(0,k.A)(this,"name",ez.PostOffice),(0,k.A)(this,"moduleUriMapper",(0,th.A)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tg,r=arguments.length>2?arguments[2]:void 0,n=S.version.split(".")[0],a=r(t,["react","react-dom"].reduce(function(e,t){return e.concat([{name:t,version:n}])},[]));return"".concat(e,".").concat(a,".js")})),this.placementId=t;var n=r.currentEnv,a=r.envConfigs,o="".concat(tv,"/").concat(t);this._dimensions={env:({"test-server":"test-server",local:"local",test:"test",dev:"local",staging:"staging",production:"production","stg-fedm-east":"staging","prod-fedm-east":"production"})[n],variant:tg},this._manifestMap=new Map([["local",new Map([[tg,{moduleName:o,moduleUri:"".concat(a.local.remoteModule.origin,"/").concat(t),externals:ty}]])],["test",new Map([[tg,{moduleName:o,moduleUri:"".concat(a.test.remoteModule.origin,"/").concat(t),externals:ty}]])],["staging",new Map([[tg,{moduleName:o,moduleUri:"".concat(a.staging.remoteModule.origin,"/").concat(t),externals:ty}]])],["test-server",new Map([[tg,{moduleName:o,moduleUri:"".concat(a["test-server"].remoteModule.origin,"/").concat(t),externals:ty}]])],["production",new Map([[tg,{moduleName:o,moduleUri:"".concat(a.production.remoteModule.origin,"/").concat(t),externals:ty}]])]])},[{key:"dimensions",get:function(){return this._dimensions}},{key:"manifestMap",get:function(){return this._manifestMap}},{key:"bifrostOverrideKey",get:function(){return"".concat(this.placementId,"-bifrost-override")}}]),tv="@atlassian/post-office-placement-remote",ty=[{name:eH.React},{name:eH.ReactDOM},{name:eH.ReactIntlNext},{name:eH.EmotionReact},{name:eH.FeatureGateJsClientPublic},{name:eH.AnalyticsContext},{module:"@atlassiansox/cross-flow-support",import:r(41114),isDefault:!1},{module:"@atlaskit/react-ufo",import:r(84898),isDefault:!0}],tb=function(){function e(){(0,R.A)(this,e),(0,k.A)(this,"registry",new Map)}return(0,T.A)(e,[{key:"getPluginForPlacement",value:function(e,t){var r="".concat(e,"--").concat(t.currentEnv),n=this.registry.get(r);if(n)return n;var a=new tm(e,t);return this.registry.set(r,a),a}}],[{key:"getRegistry",value:function(){return void 0===window.postOfficePluginRegistry&&(window.postOfficePluginRegistry=new e),window.postOfficePluginRegistry}}])}(),tE={};let tO=function(e){var t=e.placementId,r=e.placementProps,n=e.children,a=e.ErrorFallback,o=e.Fallback,i=e.onEvent,s=e.disableInitialData,c=(0,w.tv)(),u=tb.getRegistry().getPluginForPlacement(t,c),l=(0,I.g)(r??tE);return S.createElement(eN,{disableInitialData:s,placementId:t,consumptionType:"remote",onEvent:i},function(e){var t=e.initialData,r=e.onEvent,i=e.context;return S.createElement(tf,(0,A.A)({analyticsChannel:"postOffice",remotePlugin:u,onEvent:r,ErrorFallback:a,Fallback:o,initialData:t,context:i},l),n)})}}}]);